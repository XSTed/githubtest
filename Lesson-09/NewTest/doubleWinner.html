<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>雙贏彩投注小遊戲</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style type="text/css">
        body {
            background-color: #FFFF11;
            font-family: 微軟正黑體, "Microsoft JhengHei", "Arial", "Helvetica", "sans-serif";
            padding-top: 2%;
        }

        table.border-primary td {
            width: 50%;
        }
    </style>

</head>

<body>
    <div class="container">
        <div class="row">
            <table id="myTable" class="table table-bordered border-primary">
                <thead>
                    <tr>
                        <th colspan="2"><img
                                src="https://play-lh.googleusercontent.com/QFnkxOUbvsW2vuDSgFzxvHabO8wNm8okVMGkIDMFfwlRrtuH05UinFqFFFbmuKlGPA=w240-h480-rw"
                                alt="" class="mx-auto" style="display:block">
                        </th>
                    </tr>
                    <tr>
                        <th scope="col">選擇投注號碼</th>
                        <th scope="col">遊戲介紹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div style="height:250px;display:flex;flex-wrap: wrap;align-content: space-around;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="1" name="chkRights[]">
                                    <label class="form-check-label" for="Check1">01</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="2" name="chkRights[]">
                                    <label class="form-check-label" for="Check2">02</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="3" name="chkRights[]">
                                    <label class="form-check-label" for="Check3">03</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="4" name="chkRights[]">
                                    <label class="form-check-label" for="Check3">04</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="5" name="chkRights[]">
                                    <label class="form-check-label" for="Check5">05</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="6" name="chkRights[]">
                                    <label class="form-check-label" for="Check3">06</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="7" name="chkRights[]">
                                    <label class="form-check-label" for="Check7">07</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="8" name="chkRights[]">
                                    <label class="form-check-label" for="Check8">08</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="9" name="chkRights[]">
                                    <label class="form-check-label" for="Check9">09</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="10" name="chkRights[]">
                                    <label class=" form-check-label" for="Check10">10</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="11" name="chkRights[]">
                                    <label class=" form-check-label" for="Check11">11</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="12" name="chkRights[]">
                                    <label class=" form-check-label" for="Check12">12</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="13" name="chkRights[]">
                                    <label class=" form-check-label" for="Check13">13</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="14" name="chkRights[]">
                                    <label class=" form-check-label" for="Check14">14</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="15" name="chkRights[]">
                                    <label class=" form-check-label" for="Check15">15</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="16" name="chkRights[]">
                                    <label class=" form-check-label" for="Check16">16</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="17" name="chkRights[]">
                                    <label class=" form-check-label" for="Check17">17</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="18" name="chkRights[]">
                                    <label class=" form-check-label" for="Check18">18</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="19" name="chkRights[]">
                                    <label class=" form-check-label" for="Check19">19</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="20" name="chkRights[]">
                                    <label class=" form-check-label" for="Check20">20</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="21" name="chkRights[]">
                                    <label class=" form-check-label" for="Check21">21</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="22" name="chkRights[]">
                                    <label class=" form-check-label" for="Check22">22</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="23" name="chkRights[]">
                                    <label class=" form-check-label" for="Check23">23</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" value="24" name="chkRights[]">
                                    <label class=" form-check-label" for="Check24">24</label>
                                </div>
                            </div>
                        </td>
                        <td>基本玩法<br>
                            雙贏彩是一種樂透型遊戲，您必須從01~24的號碼中任選12個號碼進行投注。開獎時，開獎單位將隨機開出12個號碼，這一組號碼就是該期雙贏彩的中獎號碼，也稱為「獎號」。您的12個選號如果全部對中當期開出之12個號碼，或者全部未對中，均為中頭獎。
                            <table class="table-bordered border-danger">
                                <tbody>
                                    <tr>
                                        <td>獎項</td>
                                        <td>中獎方式</td>
                                    </tr>
                                    <tr>
                                        <td> 頭獎 </td>
                                        <td>對中當期12個獎號 或 對中當期0個獎號</td>
                                    </tr>
                                    <tr>
                                        <td> 貳獎 </td>
                                        <td>對中當期任11個獎號 或 對中任1個獎號</td>
                                    </tr>
                                    <tr>
                                        <td> 參獎 </td>
                                        <td>對中當期任10個獎號 或 對中任2個獎號</td>
                                    </tr>
                                    <tr>
                                        <td> 肆獎 </td>
                                        <td>
                                            對中當期任9個獎號 或 對中任3個獎號
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>頭獎中獎率約1/135萬，總中獎率約1/26</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type="button" class="btn btn-success" onclick="autoChoice()">電腦選號(12號碼)</button>
                            <button type="button" class="btn btn-primary ms-2" onclick="reset()">清除重選</button>
                        </td>
                        <td>獎金分配方式<br>
                            雙贏彩所有獎項皆為固定獎項，各獎項金額如下：<br>
                            <table class="table-bordered border-info">
                                <thead>
                                    <tr>
                                        <td>獎項</td>
                                        <td>頭獎</td>
                                        <td>貳獎</td>
                                        <td>參獎</td>
                                        <td>肆獎</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>單注獎金</td>
                                        <td>$15,000,000</td>
                                        <td>$100,000</td>
                                        <td>$500</td>
                                        <td>$100</td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td><button type="button" class="btn btn-danger" onclick="openWinner()">進行開獎</button></td>
                        <td>開獎號碼：</td>
                    </tr>
                    <tr>
                        <td colspan="2">開獎狀態：</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script type="text/javascript" src="../comlib.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        var chk_arr = document.getElementsByName("chkRights[]");
        var chklength = chk_arr.length;

        function rand(min, max) {
            // Math.random()，JS產生0-1之間的隨機亂數，包含0不包含1之間的值
            // Math.floor()函式會回傳無條件捨去的整數，如12.3則回傳12。
            // Math.ceil()函式會回傳無條件進為整數，如1.03則回傳2
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1) + min);// 回傳min到max之間的亂數
        }

        //清除所有號碼勾選函數
        function reset() {
            for (let i = 0; i <= 23; i++) {
                chk_arr[i].checked = false;
            }
        }
        //自動選號函數
        function autoChoice() {
            //先清除所有選擇
            reset();
            //產生12個電腦選號程式
            for (let i = 0; i <= 11; i++) {
                let chkData = rand(0, 23);
                // 檢查值是否有被選擇
                if (chk_arr[chkData].checked == false) {
                    chk_arr[chkData].checked = true;
                } else {
                    i--;
                }
            }
        }
        //開獎函數
        function openWinner() {
            debugger;
            var tableEle1 = document.getElementById("myTable").rows[4].cells[1]; //取得表格4列1欄
            var tableEle2 = document.getElementById("myTable").rows[5].cells[0]; //取得表格5列0欄   
            let winBall = new Array();  //存贏球陣列
            let Ball = new Array();     //開獎球存陣列
            let selectBall = new Array();   //選擇球存陣列
            let result = "";            //存結果變數
            for (let i = 0; i <= 23; i++) {
                if (chk_arr[i].checked == true) {   //計算有多少號碼被勾選
                    selectBall.push(i + 1);
                }
            }
            if (selectBall.length != 12) {
                alert("投注號碼不可小於或大於12注");
                return false;
            }
            for (let i = 0; i <= 11; i++) { //進行開獎，共開12球
                let chkData = rand(1, 24); //開獎範圍1-24，每次開一球存chkData
                if (Ball.indexOf(chkData) == -1) { // 檢查開獎球是否有重復
                    Ball.push(chkData);     //如果沒有重復存入Ball陣列
                    //判斷有沒有在選擇的號碼勾選中
                    if (chk_arr[chkData - 1].checked == true) {
                        winBall.push(chkData);  //檢查第幾球中獎，如果有中獎需保留值下來
                    }
                } else {
                    i--;
                }
            }
            //將結果插入表格中
            tableEle1.innerHTML = "<h4>開獎號碼：" + Ball + "</h4><h4>排序號碼：" + Ball.sort(function (a, b) { return a - b; }) + "</h4>";
            result = result + "<h4>投注號碼：" + selectBall + "</h4>";
            result = result + "<h4>對中當期獎號：" + winBall.length + "，中獎號碼：" + winBall.sort(function (a, b) { return a - b; }) + "</h4>";
            result = result + "<h4>中獎狀態：" + getBonus(winBall.length) + "</h4>";
            tableEle2.innerHTML = result;
        }
        //取得中獎資訊與金額
        function getBonus(level) {
            switch (level) {
                case 0:
                    return ("頭獎：$15,000,000");
                    break;
                case 1:
                    return ("貳獎：$100,000");
                    break;
                case 2:
                    return ("參獎：$500");
                    break;
                case 3:
                    return ("肆獎：$100");
                    break;
                case 12:
                    return ("頭獎：$15,000,000");
                    break;
                case 11:
                    return ("貳獎：$100,000");
                    break;
                case 10:
                    return ("參獎：$500");
                    break;
                case 9:
                    return ("肆獎：$100");
                    break;
                default:
                    return ("無中獎！！");
                    break;
            }
        }
    </script>
</body>